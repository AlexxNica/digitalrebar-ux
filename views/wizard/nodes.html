<div layout='row' class='wizard-pane'>
  <div class='wizard-icon'>
    <md-icon>directions_boat</md-icon>
  </div>
  <div class='wizard-content' flex>
    <h1>Select the Services for Your Nodes</h1>
    <md-table-container style="overflow-y: auto; max-height: 300px;">
      <table md-table md-row-select ng-model="workloads.selected">
        <thead md-head md-order="order">
          <tr md-row>
            <th md-column md-order-by='name'>Name</th>
            <th md-column style="text-align:center;">Required</th>
            <th md-column style="text-align:center;">Cluster</th>
            <th md-column style="text-align:center;">Worker</th>
            <th md-column style="text-align:center;">Optional</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row md-select="node" md-select-id="{{node.id}}" ng-repeat="node in getNodes() | orderBy: order" md-on-deselect='tryDeselect' >
            <td md-cell>{{node.name}}</td>
            <td md-cell ng-repeat='type in ["required","cluster","worker","optional"]'>
              <span ng-repeat='service in wizard.services' style='height: 10px;' ng-if='service.type==type'>
                <md-button ng-click='select(node, service)' class='md-icon-button' ng-class='{"toggled md-whiteframe-2dp": serviceMap[node.id][service.name]}'>
                  <md-icon>
                    {{service.icon}}
                  </md-icon>
                  <md-tooltip>
                    {{service.description}}
                  </md-tooltip>
                </md-button>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
    <h1>Service Overview</h1>
    <div ng-repeat='preset in wizard.services'>
      <div layout='row' layout-padding>
        <div flex>
          <md-icon>{{preset.icon}}</md-icon>
          <span style='margin-left: 1em;'>{{preset.description}}</span>
        </div>
        <div ng-repeat='role in preset.roles'>
          <md-icon>
            {{roleMap[role].icon}}
          </md-icon>
          <md-tooltip>
            {{roleMap[role].name}}
          </md-tooltip>
        </div>
      </div>
    </div>
  </div>
</div>